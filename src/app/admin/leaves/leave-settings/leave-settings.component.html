<section class="content">
  <div class="content-block">
    <div class="block-header">
      <!-- breadcrumb -->
      <app-breadcrumb [title]="'Leave Settings'" [items]="['Leaves']" [active_item]="'Leave Settings'">
      </app-breadcrumb>
    </div>
    <div class="row clearfix">
      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">

        <mat-card>
          <mat-card-header>
            <mat-card-title>Leave Settings</mat-card-title>
          </mat-card-header>

          <mat-card-content>
            <form [formGroup]="leaveForm" (ngSubmit)="onSubmit()">
              <!-- Row for Leave Policy Name and Leave Type -->
              <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
                  <mat-form-field appearance="outline" class="example-full-width mb-3">
                    <mat-label>Leave Policy Name</mat-label>
                    <input matInput formControlName="leavePolicyName" required />
                    @if (leaveForm.get('leavePolicyName')?.hasError('required')) {
                      <mat-error>
                        Leave Policy Name is required.
                      </mat-error>
                    }
                  </mat-form-field>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
                  <mat-form-field appearance="outline" class="example-full-width mb-3">
                    <mat-label>Leave Type</mat-label>
                    <mat-select formControlName="leaveType">
                      <mat-option value="Paid Leave">Paid Leave</mat-option>
                      <mat-option value="Sick Leave">Sick Leave</mat-option>
                      <mat-option value="Unpaid Leave">Unpaid Leave</mat-option>
                      <mat-option value="Casual Leave">Casual Leave</mat-option>
                    </mat-select>
                    @if (leaveForm.get('leaveType')?.hasError('required')) {
                      <mat-error>
                        Leave Type is required.
                      </mat-error>
                    }
                  </mat-form-field>
                </div>
              </div>

              <!-- Row for Leave Duration and Carry Forward Limit -->
              <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
                  <mat-form-field appearance="outline" class="example-full-width mb-3">
                    <mat-label>Leave Duration (Days)</mat-label>
                    <input matInput formControlName="leaveDuration" type="number" required />
                    @if (leaveForm.get('leaveDuration')?.hasError('required')) {
                      <mat-error>
                        Leave Duration is required.
                      </mat-error>
                    }
                  </mat-form-field>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
                  <mat-form-field appearance="outline" class="example-full-width mb-3">
                    <mat-label>Carry Forward Limit</mat-label>
                    <input matInput formControlName="carryForwardLimit" type="number" required />
                    @if (leaveForm.get('carryForwardLimit')?.hasError('required')) {
                      <mat-error>
                        Carry Forward Limit is required.
                      </mat-error>
                    }
                    @if (leaveForm.get('carryForwardLimit')?.hasError('min')) {
                      <mat-error>
                        Carry Forward Limit must be at least 0.
                      </mat-error>
                    }
                  </mat-form-field>
                </div>
              </div>

              <!-- Row for Leave Encashment and Approval Workflow -->


              <!-- Row for Leave Quota and Half Day Option -->
              <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
                  <mat-form-field appearance="outline" class="example-full-width mb-3">
                    <mat-label>Leave Quota (Days)</mat-label>
                    <input matInput formControlName="leaveQuota" type="number" required />
                    @if (leaveForm.get('leaveQuota')?.hasError('required')) {
                      <mat-error>
                        Leave Quota is required.
                      </mat-error>
                    }
                  </mat-form-field>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
                  <mat-form-field appearance="outline" class="example-full-width mb-3">
                    <mat-label>Select Department</mat-label>
                    <mat-select formControlName="department" required>
                      <mat-option value="IT">IT</mat-option>
                      <mat-option value="HR">HR</mat-option>
                      <mat-option value="Finance">Finance</mat-option>
                      <mat-option value="Marketing">Marketing</mat-option>
                    </mat-select>
                    @if (leaveForm.get('department')?.hasError('required')) {
                      <mat-error>
                        Department is required.
                      </mat-error>
                    }
                  </mat-form-field>
                </div>
              </div>

              <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
                  <mat-form-field appearance="outline" class="example-full-width mb-3">
                    <mat-label>Leave Approval Workflow</mat-label>
                    <mat-select formControlName="approvalWorkflow">
                      <mat-option value="Manager">Manager</mat-option>
                      <mat-option value="HR">HR</mat-option>
                      <mat-option value="Both">Manager & HR</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>

              <!-- Row for Department/Employees and Notes -->
              <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
                  <mat-form-field appearance="outline" class="example-full-width mb-3">
                    <mat-label>Notes (Optional)</mat-label>
                    <textarea matInput formControlName="notes"></textarea>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
                  <mat-checkbox formControlName="leaveEncashment">Enable Leave
                  Encashment</mat-checkbox>
                </div>
              </div>

              <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
                  <mat-checkbox formControlName="halfDayOption">Enable Half Day
                  Leave</mat-checkbox>
                </div>
              </div>

              <!-- Submit Button -->
              <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
                  <button mat-raised-button color="primary" type="submit"
                    [disabled]="leaveForm.invalid">
                    Save Settings
                  </button>
                </div>

              </div>
            </form>
          </mat-card-content>
        </mat-card>

      </div>
    </div>
  </div>
</section>